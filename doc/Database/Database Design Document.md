# 鼎智网上订单系统――数据库设计

## 介绍

### 适用范围
本文件用于提供网上订单系统的数据体系结构概述、数据库系统硬件、数据库设计和有效的应用程序。

### 目的
由于旧版本的订单系统只有简单的订单管理而没有独立的商品管理，导致订单只能以简单集中形式体现，并且难以维护。本系统便是对其进行加强，使其可以达到对单个商品进行维护，并随意组成订单的效果。
### 设想与依赖

#### 设想：
* 此系统将会构建成一个网站,并且由Internet直接访问
* 前台系统负责面向客户，进行商品展示；后台系统通过管理员，对系统进行维护。
* 系统的安全性主要基于用户权限的分发

#### 依赖：
* 未发现

## 系统架构
客户通过前台系统查看商品，并提交订单。管理员通过后台系统对商品进行维护（增删该查），对订单进行处理（修改订单状态）
### 前台系统
订单系统的主要网站。前台系统提供用户登录、个人用户管理、商品分类展示、商品详细信息展示、订单填写并提交、查看订单等功能。
### 后台系统
后台系统只能由管理员来登陆。该系统用来执行所有的后台功能，例如系统配置、商品分类、商品添加删除、确认订单、取消订单等能攻。

## 硬件设备
暂无

## 软件组件
| 组件名称        | 描述          | 
| :-------------:|--------------| 
| AJAX    | JavaScript和XML组成的异步技术，使用户访问更加快捷 | 
| C#    | 多范式编程语言，包含强类型，命令式编程，声明式编程，函数式变成，泛型，面向对象（类为主），以及面向组件的编程技术。  |
| Microsoft Sql Server 2008 R2 | 微软提供的关系数据库，用于存储数据 |

## 软硬件关系
暂无

#数据库设计与数据库模型

## 体系结构概述
前台和后台系统公用一个数据库。客户与管理员公用一个用户表，仅仅只有角色上的不同。
管理员创建商品信息，客户创建订单信息。
鼎智网上订单系统是一种传统的B2C模式。

## 数据模型

### 客户模型

#### 客户
| 名称        | 描述          | 
| :-------------:|--------------| 
|Id||
|CustomerName|用户名|
|CompanyName|公司名称|
|Email|电子邮箱|
|Phone|手机好吗|
|Idcard|身份证号|
|birthday|生日|
|IsActive|是否激活|
|CreateTime|创建时间|
|LastLoginTime|上次登录时间|
|LastIpAddress|上次登录IP|
|Comment|管理员评价|
|IsDelete|是否删除|

#### 客户地址
| 名称        | 描述          | 
| :-------------:|--------------| 
|CustomerId|客户id|
|AddressId|地址id|

#### 客户权限

| 名称        | 描述          | 
| :-------------:|--------------| 
|CustomerId|客户id|
|CustomerRoleId|权限id|

### 产品模型

### 订单模型



产品：
* ID
* 产品类型
* 产品组ID（一个产品组，直接定义为一个新的产品）
* 名称
* 短描述
* 详细面熟
* sku（见下）
* 是否可以配送
* 是否免费配送
* 是否首页显示
* 首页排序
* 价格
* 之前的价格
* 特殊价格
* 特殊价格开始时间
* 特殊价格结束时间
* 显示购买按钮
* 显示在浏览列表中
* 可用于预购
* 是否可以价格面议
* 是否启用客户输入价格
* 图片（多个）
* 生产商
* 相关产品（多个）
* 交叉销售产品（多个）
* 商品属性（多个）
* 库存管理方式(是否跟踪库存)
* 库存数量
* 是否显示库存状态
* 是否显示库存数量
* 最低库存
* 低库存时的动作（停止发布，或者禁止购买）
* 多少库存时，通知管理员
* 一次性最多购买数量
* 一次性最少购买数量
* 数量单位（多个）
* 重量
* 长
* 宽
* 高
* 是否发布
* 是否删除
* 创建时间
* 最后一次更新时间

套装价格：
* ID
* 产品
* 允许的用户角色
* 数量
* 价格

sku：
* SKU是指一款商品，每款都有出现一个SKU，便于电商品牌识别商品。
* 一款商品多色，则是有多个SKU，例：一件衣服，有红色、白色、蓝色，则SKU编码也不相同，如相同则会出现混淆，发错货。

